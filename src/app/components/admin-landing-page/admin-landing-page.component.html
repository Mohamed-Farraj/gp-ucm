<div class="dashboard-container">
  <!-- Dashboard Title -->
  <div class="row mb-4">
    <div class="col-12">
      <h2 class="dashboard-title">احصائيات لطلبات الالتحاق</h2>
    </div>
  </div>
  
  <!-- Stats Row -->
  <div class="row g-4 mb-4">
    <div class="col-12 col-md-4">
      <div class="card h-100">
        <div class="card-header">
          <h5 class="card-title">
            <i class="fas fa-tachometer-alt me-2"></i>
            احصائيات سريعة
          </h5>
        </div>
        <div class="card-body">
          <!-- Total Applications -->
          <div class="stat-box total-stat mb-4">
            <h6>اجمالي طلبات الالتحاق</h6>
            <h3 id="totalApplications">{{  (data?.male?.total||0) + (data?.female?.total||0) }}</h3>
          </div>
          
          <!-- Male/Female Comparison -->
          <div class="row g-3 mb-4">
            <div class="col-6">
              <div class="stat-box male-stat h-100">
                <i class="fas fa-male mb-2" style="font-size: 1.5rem;"></i>
                <h6>الذكور</h6>
                <h4 id="maleTotal">{{ data?.male?.total || 0 }}</h4>
              </div>
            </div>
            <div class="col-6">
              <div class="stat-box female-stat h-100">
                <i class="fas fa-female mb-2" style="font-size: 1.5rem;"></i>
                <h6>الاناث</h6>
                <h4 id="femaleTotal">{{ data?.female?.total || 0 }}</h4>
              </div>
            </div>
          </div>
          
          <!-- Status Legend -->
          <div class="status-legend mb-4">
            <div class="legend-item rejected">
              <span class="dot"></span>
              المرفوض: <span id="totalRejected">{{ (data?.male?.rejected || 0) + (data?.female?.rejected || 0) }}</span>
            </div>
            <div class="legend-item under-review">
              <span class="dot"></span>
              تحت المراجعة: <span id="totalUnderReview">{{ (data?.male?.underReview || 0) + (data?.female?.underReview || 0) }}</span>
            </div>
            <div class="legend-item accepted">
              <span class="dot"></span>
              المقبول: <span id="totalAccepted">{{ (data?.male?.accepted || 0) + (data?.female?.accepted || 0) }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="col-12 col-md-4">
      <div class="card h-100">
        <div class="card-header">
          <h5 class="card-title">
            <i class="fas fa-chart-pie me-2"></i>
            اجمالي طلبات الالتحاق بالنوع
          </h5>
        </div>
        <div class="card-body">
          <div class="chart-container">
            <canvas baseChart 
            class="mx-auto my-5"
            [type]="'pie'"
            [data]="genderPieData"
            [options]="pieChartOptions">
            </canvas>
          </div>
        </div>
      </div>
    </div>
    
    <div class="col-12 col-md-4">
      <div class="card h-100">
        <div class="card-header">
          <h5 class="card-title">
            <i class="fas fa-chart-pie me-2"></i>
            توزيع حالة الطلبات
          </h5>
        </div>
        <div class="card-body">
          <div class="chart-container">
            <canvas baseChart 
            class="mx-auto my-5"
            [type]="'pie'"
            [data]="statusPieData"
            [options]="statusPieOptions">
            </canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Charts Row -->
  <div class="row g-4">
    <div class="col-12 col-md-6">
      <div class="card h-100">
        <div class="card-header">
          <h5 class="card-title">
            <i class="fas fa-chart-bar me-2"></i>
            اجمالي طلبات الالتحاق بالنوع
          </h5>
        </div>
        <div class="card-body">
          <div class="chart-container">
            <canvas baseChart 
            [type]="'bar'"
            [data]="genderChartData"
            [options]="barChartOptions">
            </canvas>
          </div>
        </div>
      </div>
    </div>
    
    <div class="col-12 col-md-6">
      <div class="row g-4">
        <div class="col-12 col-sm-6">
          <div class="card h-100">
            <div class="card-header">
              <h5 class="card-title">
                <i class="fas fa-male me-2"></i>
                طلبات التحاق الذكور
              </h5>
            </div>
            <div class="card-body">
              <div class="chart-container">
                <canvas baseChart 
                [type]="'doughnut'"
                [data]="maleStatusData"
                [options]="doughnutOptions">
                </canvas>
              </div>
            </div>
          </div>
        </div>
        
        <div class="col-12 col-sm-6">
          <div class="card h-100">
            <div class="card-header">
              <h5 class="card-title">
                <i class="fas fa-female me-2"></i>
                طلبات التحاق الاناث
              </h5>
            </div>
            <div class="card-body">
              <div class="chart-container">
                <canvas baseChart 
                [type]="'doughnut'"
                [data]="femaleStatusData"
                [options]="doughnutOptions">
                </canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>