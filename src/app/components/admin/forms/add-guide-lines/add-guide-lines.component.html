<section class="premium-card my-4 p-4" dir="rtl">
  <div class="card-header mb-4 d-flex justify-content-between">
    <h4 class="section-title">أضف الإرشادات</h4>
    <div
    class="btn-group"
    role="group"
    aria-label="Basic radio toggle button group"
  >
    <input
      type="radio"
      class="btn-check"
      name="btnradio"
      id="btnradio1"
      autocomplete="off"
      (change)="fetchGuideline(1)"
      checked
    />
    <label class="btn btn-outline-primary" for="btnradio1">حلوان</label>

    <input
      type="radio"
      class="btn-check"
      name="btnradio"
      id="btnradio2"
      (change)="fetchGuideline(2)"
      autocomplete="off"
    />
    <label class="btn btn-outline-primary" for="btnradio2">حلوان الاهلية</label>

    <input
      type="radio"
      class="btn-check"
      name="btnradio"
      id="btnradio3"
      (change)="fetchGuideline(3)"
      autocomplete="off"
    />
    <label class="btn btn-outline-primary" for="btnradio3">حلوان التكنولوجية</label>
  </div>
  </div>
  
  <div class="card-body">
    <form [formGroup]="guidelineForm">
      <!-- Textarea for the guideline -->
      <div class="form-group mb-3">
        <textarea 
          class="premium-textarea"
          formControlName="guidelines"
          rows="10"
          placeholder="أدخل إرشاداتك هنا.



          "
        ></textarea>
      
        <!-- Validation message
        <div
          *ngIf="guidelineForm.get('guidelines')?.invalid && guidelineForm.get('guidelines')?.touched"
          class="error-message"
        >
          <i class="fas fa-exclamation-circle me-1"></i>النص الإرشادي مطلوب.
        </div> -->
      </div>
      
      <div class="form-actions-row" *ngIf="!_AuthService.getRole()?.includes('ViEW')">
        <!-- Save/Update Button -->
        <button 
          type="submit"
          (click)="saveGuideline()"
          [disabled]="guidelineForm.invalid || !this.guidelineForm.dirty"
          class="btn-save"
        >
          <i class="fas fa-save me-2"></i>{{ guidelineExists ? 'تعـديل' : 'حـفظ' }}
        </button>
    
        <!-- Delete Button (only shown if a guideline exists) -->
        <button 
          (click)="deleteGuideline()"
          *ngIf="guidelineExists && !_AuthService.getRole()?.includes('EDIT')"
          class="btn-delete-lg"
        >
          <i class="fas fa-trash-alt me-2"></i>حـذف
        </button>
      </div>
    </form>
  </div>

<!-- 
    
    <div class="mb-3 row border-bottom p-1">
        <div class="col-sm-2 col-4 m-1">
          <button type="button" class="btn btn-secondary w-100" 
          [class.btn-main]="activeButton === 'old'"
          [class.btn-secondary]="activeButton !== 'old'"
           (click)="selectStudentType('old')">طلاب قدامى</button>
        </div>
        <div class="col-sm-2 col-4 m-1">
          <button type="button" class="btn btn-secondary w-100"
          [class.btn-main]="activeButton === 'new'"
          [class.btn-secondary]="activeButton !== 'new'"
          (click)="selectStudentType('new')">طلاب مستجـدين</button>
        </div>
      </div>
    <form [formGroup]="addguideForm" (ngSubmit)="setguideline()" >
      <div class="mb-4">
        <label class="py-3 fw-bold fs-5" for="description">الإرشادات:</label><br />
        <textarea
        [value]="result[0]?.guidelines"
        class="textarea"
        formControlName="guidelines"
          id="description"
          name="description"
          rows="8"
          cols="100"
          required
        ></textarea>
      </div>
      <div>
        <label class="py-3 fw-bold fs-5 " for="file">رفع ملفات:</label><br />
        <input
    formControlName="file"
          type="file"
          id="file"
          name="file"
          required
        />
      </div>
      <button *ngIf="err" class="btn-main d-block m-auto" type="submit">ارسـال</button>
      <button  *ngIf="!err" class="btn-main d-block m-auto" type="submit">تعـديل</button>
    </form> -->
</section>